<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8" />
    <title>Task 6</title>
</head>

<body>
    <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
        integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
    <script type="application/javascript">
        function createFamilyTree() {
            $('body').append('<table>');
            $('table').append('<thead>');
            $('table').append('<tbody>');

            $('thead').append('<tr>');
            $('thead tr').append($('<th>').text('Firstname'), $('<th>').text('Lastname'));
        }

        function addNewMember(firstName, lastName, position) {
            if (position === 'before') {
                $('tbody').prepend($('<tr>').append(`<td>${firstName}<td>${lastName}`,
                    $('<td>(x)</td>').css('background-color', 'orange').click(
                        function () { $(this).parent().remove() })));
            } else {
                $('tbody').append($('<tr>').append(`<td>${firstName}<td>${lastName}`,
                    $('<td>(x)</td>').css('background-color', 'orange').click(
                        function () { $(this).parent().remove(); })));
            }
        }

        function createForm() {
            $('table').before(
                '<input type="text">'.repeat(2),
                $('<select>').append(
                    '<option value="before">Before<option value="after">After'),
                    $('<input type="submit">').click(() => addNewMember($('input').val(), $('input:nth-of-type(2)').val(), $('select').val()))
                );
        }

        createFamilyTree();
        createForm();
    </script>
</body>

</html>
